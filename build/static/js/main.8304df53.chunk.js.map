{"version":3,"sources":["store/types.js","store/actionCreators.js","components/NodeEditor/NodeEditor.jsx","utils/nodes.js","utils/parsing.js","utils/graphOnEvent.js","components/Graph/Graph.jsx","components/NodeList/NewNodeForm.jsx","components/NodeList/NodeList.jsx","App.js","reportWebVitals.js","store/elementsReducer.js","store/graphElements.js","store/currElemReducer.js","store/editorFieldsReducer.js","store/controlsReducer.js","store/index.js","index.js"],"names":["INIT","CHANGE_LABEL","CHANGE_CONTENT","CHANGE_PHOTO","CHANGE_VIDEO","UNSET","SET_CURR","UNSET_CURR","ADD_ELEMENTS","REMOVE_ELEMENTS","CHANGE_MEDIA","CHANGE_TITLE","ADD_LINK","REMOVE_LINK","UPDATE_CONTENT","SET_DRAG","UNSET_DRAG","currUnset","type","graphRemove","elements","payload","graphAddEls","els","NodeEditor","fields","node","onSubmit","dispatch","useDispatch","useSelector","state","editorFields","id","label","content","video","photo","data","media","className","value","onChange","event","fieldsLabel","target","fieldsContent","fieldsPhoto","fieldsVideo","onClick","graphRemoveLink","getDefaultID","Math","random","toString","NodeFlow","x","y","this","sourcePosition","targetPosition","title","links","position","REG_FOR_NODES","parseElementContent","oldId","match","firstMatch","x_y","actions","matches","exec","index","push","linkNames","map","el","Set","filter","find","link","forEach","i","console","log","slice","params1","length","params2","source","onConnect","params","onElementClick","element","preventDefault","startsWith","currSet","onElementEdit","currElem","graphLabel","graphContent","document","getElementsByClassName","click","Graph","currElement","isDraggable","controls","onElementsRemove","elementsToRemove","deleteKeyCode","nodesDraggable","onPaneClick","NewNodeForm","reduce","prev","curr","NodeList","Array","from","getAttribute","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","elementsReducer","action","ids","includes","currElemReducer","editorFieldsReducer","controlsReducer","rootReducer","combineReducers","store","createStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8304df53.chunk.js","sourcesContent":["export const INIT = \"INIT\";\nexport const CHANGE_LABEL = \"CHANGE_LABEL\";\nexport const CHANGE_CONTENT = \"CHANGE_CONTENT\";\nexport const CHANGE_PHOTO = \"CHANGE_PHOTO\";\nexport const CHANGE_VIDEO = \"CHANGE_VIDEO\";\nexport const UNSET = \"UNSET\";\n\nexport const SET_CURR = \"SET_CURR\";\nexport const UNSET_CURR = \"UNSET_CURR\";\n\nexport const ADD_ELEMENTS = \"ADD_ELEMENTS\";\nexport const REMOVE_ELEMENTS = \"REMOVE_ELEMENTS\";\nexport const CHANGE_MEDIA = \"CHANGE_MEDIA\";\nexport const CHANGE_TITLE = \"CHANGE_TITLE\";\nexport const ADD_LINK = \"ADD_LINK\";\nexport const REMOVE_LINK = \"REMOVE_LINK\";\nexport const UPDATE_CONTENT = \"UPDATE_CONTENT\";\n\nexport const SET_DRAG = \"SET_DRAG\";\nexport const UNSET_DRAG = \"UNSET_DRAG\";","import {\n    INIT,\n    UNSET,\n    CHANGE_VIDEO,\n    CHANGE_LABEL,\n    CHANGE_PHOTO,\n    CHANGE_CONTENT,\n    SET_CURR,\n    UNSET_CURR,\n    REMOVE_ELEMENTS, CHANGE_MEDIA, UPDATE_CONTENT, ADD_ELEMENTS, SET_DRAG, UNSET_DRAG, ADD_LINK, REMOVE_LINK\n} from \"./types\";\n\nexport const fieldsInit = (fields) => (\n    {\n        type: INIT,\n        payload: fields,\n    }\n);\n\nexport const fieldsLabel = (label) => (\n    {\n        type: CHANGE_LABEL,\n        payload: {label}\n    }\n);\n\nexport const fieldsContent = (content) => (\n    {\n        type: CHANGE_CONTENT,\n        payload: {content}\n    }\n);\n\nexport const fieldsPhoto = (photo) => (\n    {\n        type: CHANGE_PHOTO,\n        payload: {photo}\n    }\n);\n\nexport const fieldsVideo = (video) => (\n    {\n        type: CHANGE_VIDEO,\n        payload: {video}\n    }\n);\n\nexport const fieldsUnset = () => (\n    {\n        type: UNSET,\n    }\n);\n\nexport const currSet = (element) => (\n    {\n        type: SET_CURR,\n        payload: element\n\n    }\n);\n\nexport const currUnset = () => (\n    {\n        type: UNSET_CURR,\n    }\n);\n\nexport const graphRemove = (elements) => (\n    {\n        type: REMOVE_ELEMENTS,\n        payload: elements,\n    }\n);\n\nexport const graphMedia = (id, photo, video) => (\n    {\n        type: CHANGE_MEDIA,\n        payload: {id, photo, video}\n    }\n);\n\nexport const graphLabel = (id, label) => (\n    {\n        type: CHANGE_LABEL,\n        payload: {id, label}\n    }\n);\n\nexport const graphContent = (id, content) => (\n    {\n        type: CHANGE_CONTENT,\n        payload: {id, content}\n    }\n);\n\nexport const graphContentUpdate = (id, content) => (\n    {\n        type: UPDATE_CONTENT,\n        payload: {id, content}\n    }\n);\n\nexport const graphAddEls = (els) => (\n    {\n        type: ADD_ELEMENTS,\n        payload: els,\n    }\n);\n\nexport const setDraggable = () => (\n    {\n        type: SET_DRAG,\n    }\n);\n\nexport const unsetDraggable = () => (\n    {\n        type: UNSET_DRAG,\n    }\n);\n\nexport const graphAddLink = (params) => (\n    {\n        type: ADD_LINK,\n        payload: params,\n    }\n);\n\nexport const graphRemoveLink = (id) => (\n    {\n        type: REMOVE_LINK,\n        payload: {\n            id\n        }\n    }\n);\n\n\n\n\n","import React from 'react';\nimport {\n    fieldsInit,\n    fieldsLabel,\n    fieldsPhoto,\n    fieldsVideo,\n    fieldsContent,\n    fieldsUnset, unsetDraggable, graphRemove, currUnset, graphRemoveLink\n} from \"../../store/actionCreators\";\n\nimport './main.sass'\nimport {useDispatch, useSelector} from \"react-redux\";\n\nconst NodeEditor = ({node, onSubmit}) => {\n    const dispatch = useDispatch();\n    const {id, label, content, video, photo} = useSelector(state => state.editorFields.fields);\n    \n    if (node.id !== id) {\n        dispatch(fieldsInit({\n                label: node.data.label,\n                content: node.data.content,\n                id: node.id,\n                photo: node.data.media.photo,\n                video: node.data.media.video,\n            }\n        ));\n    }\n\n    const onClick = (label, content, photo, video, node) => {\n        const params = {label, content, photo, video};\n        onSubmit(params, node);\n    }\n\n    return (\n        <div className='editor-wrapper'>\n            <div className=\"node-editor\">\n                <div className=\"node-editor__content\">\n                    <div className=\"node-editor__item\">\n                        Id: {id}\n                    </div>\n\n                    <div className=\"node-editor__item\">\n                        <label>Title:</label>\n                        <input\n                            className='input__label'\n                            type='text'\n                            value={label}\n                            onChange={(event) => dispatch(fieldsLabel(event.target.value))}\n                        />\n                    </div>\n\n                    <div className=\"node-editor__item\">\n                        <label>Content</label>\n                        <textarea\n                            className='input__content'\n                            value={content}\n                            onChange={(event) => dispatch(fieldsContent(event.target.value))}\n                        />\n                    </div>\n                    <div className=\"node-editor__item photo\">\n                        <label>Photo</label>\n                        <textarea\n                            value={photo}\n                            onChange={(event) => dispatch(fieldsPhoto(event.target.value))}\n                        />\n                    </div>\n                    <div className=\"node-editor__item video\">\n                        <label>Video</label>\n                        <textarea\n                            value={video}\n                            onChange={(event) => dispatch(fieldsVideo(event.target.value))}\n                        />\n                    </div>\n                    <div className=\"editor_controls\">\n                        <button className=\"node-editor-submit editor_button\"\n                                onClick={() => {\n                                    dispatch(unsetDraggable());\n                                    onClick(label, content, photo, video, node);\n                                    dispatch(fieldsUnset());\n                                }}>Submit\n                        </button>\n                        <button className=\"editor_button\"\n                            onClick={() => {\n                                dispatch(currUnset());\n                                dispatch(graphRemove([node]));\n                                dispatch(graphRemoveLink(node.id));\n                            }}\n                        >\n                            Delete node\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default NodeEditor;","const getDefaultID = () => `f${(~~(Math.random() * 1e8)).toString(16)}`;\n\nexport function NodeFlow(x = 20, y = 20, label, id = getDefaultID()) {\n    this.id = id;\n    this.sourcePosition = 'right';\n    this.targetPosition = 'left';\n    this.data = {\n        label,\n        title: '',\n        content: '',\n        links: [],\n        media: {\n            photo: '',\n            video: '',\n        },\n    };\n    this.position = {x, y};\n}","import {NodeFlow} from \"./nodes\";\nimport {graphAddEls, graphAddLink} from \"../store/actionCreators\";\n\nconst REG_FOR_NODES = /\\[[[\\sA-Za-z]+]]/gm;\n\nexport const parseElementContent = (oldId, content, node, x, y) => {\n    const x_y = [{x: 180, y: 160}, {x: 250, y: 90}, {x: 240, y: -90}, {x: 150, y: -180}]\n\n    const actions = [];\n    let matches = [];\n    let match;\n    let firstMatch;\n\n    while (true) {\n        match = REG_FOR_NODES.exec(content)\n        if (!match) break;\n        if (!firstMatch) firstMatch = match.index;\n        matches.push(match[0]);\n    }\n\n    const linkNames = node.data.links.map(el => el.label);\n\n    [...new Set(matches)]\n        .filter(el => !linkNames.find(link => link === el))\n        .forEach((el, i) => {\n            console.log(el)\n            const id = `f${(~~(Math.random() * 1e8)).toString(16)}`;\n            const label = el.slice(2, -2);\n\n            const x_r = x + x_y[node.data.links.length ? node.data.links.length + i - 1 : i].x;\n            const y_r = y + x_y[node.data.links.length ? node.data.links.length + i - 1 : i].y;\n\n            const params1 = new NodeFlow(x_r, y_r, label, id);\n            const params2 = {\n                id: `e${oldId}-${id}`,\n                source: `${oldId}`,\n                target: `${id}`\n            };\n\n            actions.push(\n                graphAddLink({id: oldId, link: id}),\n                graphAddEls([params1, params2])\n            );\n            \n        });\n\n    return actions;\n}","import {parseElementContent} from \"./parsing\";\nimport {\n    graphMedia,\n    currSet,\n    currUnset,\n    graphRemove,\n    graphLabel,\n    graphContent,\n    graphContentUpdate, graphAddEls, setDraggable\n} from \"../store/actionCreators\";\n\nexport const onElementsRemove = (elementsToRemove, dispatch) => {\n    dispatch(graphRemove(elementsToRemove));\n};\n\nexport const onConnect = (params, dispatch) => {\n    dispatch(graphAddEls([{...params, id: 'e' + params.source + '-' + params.target}]))\n    dispatch(graphContentUpdate(params.source, params.target));\n};\n\nexport const onPaneClick = (dispatch) => {\n    dispatch(currUnset());\n};\n\nexport const onElementClick = (event, element, dispatch) => {\n    event.preventDefault();\n\n    if (!(element.id.startsWith(\"e\"))) {\n        dispatch(currSet(element));\n    }\n}\n\nexport const onElementEdit = (fields, node, currElem, dispatch) => {\n    if (fields.photo !== currElem.data.media.photo || fields.video !== currElem.data.media.video) {\n        dispatch(graphMedia(currElem.id, fields.photo, fields.video));\n    }\n\n    if (fields.label !== currElem.data.label) {\n        dispatch(graphLabel(currElem.id, fields.label));\n    }\n\n    if (fields.content && fields.content !== currElem.data.content) {\n        dispatch(graphContent(currElem.id, fields.content));\n\n        parseElementContent(currElem.id, fields.content, node, currElem.position.x, currElem.position.y)\n            .forEach(el => dispatch(el));\n    }\n\n    dispatch(currUnset());\n    document.getElementsByClassName('react-flow__pane')[0].click();\n    dispatch(setDraggable());\n}","import React from 'react';\nimport ReactFlow from \"react-flow-renderer\";\n\nimport NodeEditor from '../NodeEditor/NodeEditor'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {onConnect, onElementClick, onElementEdit, onElementsRemove, onPaneClick} from \"../../utils/graphOnEvent\";\n\nimport 'react-flow-renderer/dist/style.css';\nimport 'react-flow-renderer/dist/theme-default.css';\nimport './main.sass'\n\nconst Graph = () => {\n    const dispatch = useDispatch();\n    const elements = useSelector(state => state.elements.elements);\n    const currElem = useSelector(state => state.currElement.currElem);\n    const isDraggable = useSelector(state => state.controls.isDraggable);\n\n    return (\n        <div className='graphField'>\n            <ReactFlow\n                elements={elements}\n                onElementsRemove={(elements) => onElementsRemove(elements, dispatch)}\n                onConnect={(params) => onConnect(params, dispatch)}\n                deleteKeyCode={46}\n\n                nodesDraggable={isDraggable}\n                onElementClick={(event, element) => onElementClick(event, element, dispatch)}\n                onPaneClick={() => onPaneClick(dispatch)}\n            >\n\n                {currElem && <NodeEditor\n                    node={currElem}\n                    onSubmit={(params, node) => onElementEdit(params, node, currElem, dispatch)}\n                />}\n            </ReactFlow>\n        </div>\n    );\n\n};\n\nexport default Graph;","import React from 'react';\nimport {useDispatch} from \"react-redux\";\nimport {NodeFlow} from '../../utils/nodes';\n\nimport './main.sass';\n\nconst NewNodeForm = ({els}) => {\n    const dispatch = useDispatch();\n\n    const onClick = () => {\n        const position = els.reduce((prev, curr) => {\n            if (!curr.id.startsWith('e')) {\n                if (curr.position.x > prev.x) prev.x = curr.position.x;\n                if (curr.position.y > prev.y) prev.y = curr.position.y;\n            }\n            return prev;\n        }, {x: 0, y: 0})\n        position.x += 150;\n        position.y += 80;\n        const node = new NodeFlow(position.x, position.y);\n\n        dispatch({type: \"ADD_ELEMENTS\", payload: [{...node}]});\n    }\n\n    return (\n        <div className=\"create-form\">\n            <button onClick={onClick}>Add New</button>\n        </div>\n    );\n};\n\nexport default NewNodeForm;","import React from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport \"./main.sass\";\nimport NewNodeForm from \"./NewNodeForm\";\n\nconst NodeList = () => {\n    const dispatch = useDispatch();\n    const elements = useSelector(state => state.elements.elements);\n\n    const onElementClick = (id) => {\n        const [params] = elements.filter((element) => element.id === id);\n        dispatch({type: \"SET_CURR\", payload: params});\n\n        const [element] = Array.from(document.getElementsByClassName('react-flow__node')).filter((el) => el.getAttribute(\"data-id\") === id );\n        element.click();\n    }\n\n    return (\n        <div className=\"node-list\">\n            <h2 className=\"node-list-title\">Nodes:</h2>\n            <div className=\"node-list-items\">\n                {elements\n                    .filter((element) => !element.id.startsWith('e'))\n                    .map((element, i) => {\n                        return (\n                            <div key={i + 1} className=\"node-list-item\" onClick={() => onElementClick(element.id)}>\n                                {element.data.label}\n                            </div>\n                        );\n                    })}\n            </div>\n            <NewNodeForm els={elements}/>\n        </div>\n    );\n};\n\nexport default NodeList;","import './App.sass';\nimport Graph from \"./components/Graph/Graph\";\nimport NodeList from \"./components/NodeList/NodeList\";\nimport React from \"react\";\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Graph/>\n            <NodeList/>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import initialElements from './graphElements';\nimport {\n    ADD_ELEMENTS,\n    ADD_LINK,\n    CHANGE_CONTENT,\n    CHANGE_LABEL,\n    CHANGE_MEDIA,\n    CHANGE_TITLE,\n    REMOVE_ELEMENTS, REMOVE_LINK,\n    UPDATE_CONTENT\n} from \"./types\";\n\nconst initialState = {\n    elements: initialElements\n}\n\nconst elementsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_ELEMENTS:\n            return {\n                ...state,\n                elements: [\n                    ...state.elements,\n                    ...action.payload,\n                ],\n            };\n        case REMOVE_ELEMENTS:\n            const ids = action.payload.map((el) => el.id);\n            return {\n                ...state,\n                elements: state.elements.filter((el) => !ids.includes(el.id))\n            };\n        case CHANGE_LABEL:\n            return {\n                ...state,\n                elements: state.elements.map((node) => {\n                    if (node.id === action.payload.id) {\n                        node.data.label = action.payload.label;\n                    }\n                    return node;\n                })\n            };\n        case CHANGE_MEDIA:\n            return {\n                ...state,\n                elements: state.elements.map((node) => {\n                    if (node.id === action.payload.id) {\n                        node.data.media.video = action.payload.video;\n                        node.data.media.photo = action.payload.photo;\n                    }\n                    return node;\n                })\n            };\n        case CHANGE_CONTENT:\n            return {\n                ...state,\n                elements: state.elements.map((node) => {\n                    if (node.id === action.payload.id) {\n                        node.data.content = action.payload.content;\n                    }\n                    return node;\n                })\n            };\n        case ADD_LINK:\n            return {\n                ...state,\n                elements: state.elements.map((node) => {\n                    let content;\n                    state.elements.forEach(el => {\n                        if (el.id === action.payload.link) {\n                            content = el.data.label;\n                        }\n                    })\n                    if (node.id === action.payload.id) {\n                        node.data.links.push({id: action.payload.id, label: content});\n                    }\n                    return node;\n                })\n            };\n        case CHANGE_TITLE:\n            return {\n                ...state,\n                elements: state.elements.map((node) => {\n                    if (node.id === action.payload.id) {\n                        node.data.title = action.payload.title;\n                    }\n                    return node;\n                })\n            };\n        case UPDATE_CONTENT:\n            return {\n                ...state,\n                elements: state.elements.map((node) => {\n                    let content;\n                    state.elements.forEach(el => {\n                        if (el.id === action.payload.content) {\n                            content = el.data.label || `id: ${el.id}`;\n                        }\n                    })\n\n                    if (node.id === action.payload.id) {\n                        node.data.links.push({id: action.payload.id, label: content});\n                        node.data.content += `[[${content}]]`;\n                    }\n                    return node;\n                })\n            };\n        case REMOVE_LINK:\n            return {\n                ...state,\n                elements: state.elements.map((node) => {\n                    node.data.links = node.data.links.filter(link => !(link.id === action.payload.id));\n                    return node;\n                })\n            }\n        default:\n            return state;\n    }\n}\n\nexport default elementsReducer;","let elements = [\n    {\n        id: '1',\n        type: 'input',\n        sourcePosition: 'right',\n        targetPosition: 'left',\n        data: {\n            label: 'Emma wakes up',\n            content: 'Hello! This is the first node.',\n            links: [{id: 2, label: 'Emma sends letter', position: \"end\"}],\n            media: {\n                photo: '',\n                video: '',\n            },\n        },\n\n        position: {x: 250, y: 420},\n    },\n    {\n        id: '2',\n        sourcePosition: 'right',\n        targetPosition: 'left',\n        data: {\n            label: 'Emma sends letter',\n            content: 'Hello. I am the second node',\n            links: [{id: 3, label: 'Emma eats', position: \"end\"}],\n            media: {\n                photo: '',\n                video: '',\n            },\n        },\n\n        position: {x: 500, y: 420},\n    },\n    {\n        id: '3',\n        sourcePosition: 'right',\n        targetPosition: 'left',\n        data: {\n            label: 'Emma eats',\n            content: '',\n            links: [],\n            media: {\n                photo: '',\n                video: '',\n            },\n        },\n        position: {x: 790, y: 290},\n    },\n    {id: 'e1-2', source: '1', target: '2',},\n    {id: 'e2-3', source: '2', target: '3',},\n];\n\nexport default elements;","import {SET_CURR, UNSET_CURR} from \"./types\";\n\nconst initialState = {\n    currElem: null\n}\n\nconst currElemReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_CURR:\n            return {\n                currElem: action.payload\n            };\n        case UNSET_CURR:\n            return {\n                currElem: null\n            };\n        default:\n            return state;\n    }\n}\n\nexport default currElemReducer;","import {INIT, CHANGE_CONTENT, CHANGE_LABEL, CHANGE_VIDEO, CHANGE_PHOTO, UNSET} from \"./types\";\n\nconst initialState = {\n    fields: {\n        id: \"\",\n        label: \"\",\n        content: \"\",\n        photo: \"\",\n        video: \"\",\n    }\n};\n\n\n\nconst editorFieldsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INIT:\n            return {\n                fields: {\n                    id: action.payload.id,\n                    label: action.payload.label,\n                    content: action.payload.content,\n                    photo: action.payload.photo,\n                    video: action.payload.video,\n                }\n            };\n\n        case CHANGE_LABEL:\n            return {\n                fields: {\n                    ...state.fields,\n                    label: action.payload.label\n                }\n            };\n\n        case CHANGE_CONTENT:\n            return {\n                fields: {\n                    ...state.fields,\n                    content: action.payload.content\n                }\n            };\n\n        case CHANGE_PHOTO:\n            return {\n                fields: {\n                    ...state.fields,\n                    photo: action.payload.photo\n                }\n            };\n\n        case CHANGE_VIDEO:\n            return {\n                fields: {\n                    ...state.fields,\n                    video: action.payload.video\n                }\n            };\n        case UNSET:\n            return {\n                fields: {\n                    id: \"\",\n                    label: \"\",\n                    content: \"\",\n                    photo: \"\",\n                    video: \"\",\n                }\n            }\n\n\n        default:\n            return state;\n    }\n}\n\nexport default editorFieldsReducer;","import {SET_DRAG, UNSET_DRAG} from \"./types\";\n\nconst initialState = {\n    isDraggable: true\n}\n\nconst controlsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_DRAG:\n            return {\n                isDraggable: true\n            };\n        case UNSET_DRAG:\n            return {\n                isDraggable: false\n            };\n        default:\n            return state;\n    }\n}\n\nexport default controlsReducer;","import {combineReducers, createStore} from \"redux\";\nimport elementsReducer from \"./elementsReducer\";\nimport currElemReducer from \"./currElemReducer\";\nimport editorFieldsReducer from \"./editorFieldsReducer\";\nimport controlsReducer from \"./controlsReducer\";\n\nconst rootReducer = combineReducers({\n    currElement: currElemReducer,\n    elements: elementsReducer,\n    editorFields: editorFieldsReducer,\n    controls: controlsReducer,\n})\n\nconst store = createStore(rootReducer);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport {Provider} from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}